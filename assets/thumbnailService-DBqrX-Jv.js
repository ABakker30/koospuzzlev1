import{s as n}from"./index-D03SsE8_.js";async function s(e){return new Promise((l,i)=>{e.toBlob(o=>{o?l(o):i(new Error("Failed to capture canvas screenshot"))},"image/png",.9)})}async function m(e,l){const o=`thumbnails/${`${l}.png`}`;console.log("ğŸ“¸ Uploading thumbnail:",o);const{data:r,error:a}=await n.storage.from("puzzle-thumbnails").upload(o,e,{contentType:"image/png",upsert:!0});if(a)throw console.error("âŒ Failed to upload thumbnail:",a),new Error(`Failed to upload thumbnail: ${a.message}`);const{data:t}=n.storage.from("puzzle-thumbnails").getPublicUrl(o);return console.log("âœ… Thumbnail uploaded:",t.publicUrl),t.publicUrl}async function c(e,l){const o=`thumbnails/${`${l}.png`}`;console.log("ğŸ“¸ Uploading movie thumbnail:",o);const{data:r,error:a}=await n.storage.from("movie-thumbnails").upload(o,e,{contentType:"image/png",upsert:!0});if(a)throw console.error("âŒ Failed to upload movie thumbnail:",a),new Error(`Failed to upload movie thumbnail: ${a.message}`);const{data:t}=n.storage.from("movie-thumbnails").getPublicUrl(o);return console.log("âœ… Movie thumbnail uploaded:",t.publicUrl),t.publicUrl}export{s as captureCanvasScreenshot,c as uploadMovieThumbnail,m as uploadThumbnail};
