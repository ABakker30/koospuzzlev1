import{s as n}from"./index-Pa2tY7_n.js";async function s(o){return new Promise((t,r)=>{o.toBlob(a=>{a?t(a):r(new Error("Failed to capture canvas screenshot"))},"image/png",.9)})}async function m(o,t){const a=`thumbnails/${`${t}.png`}`;console.log("ğŸ“¸ Uploading thumbnail:",a);const{data:i,error:e}=await n.storage.from("puzzle-thumbnails").upload(a,o,{contentType:"image/png",upsert:!0});if(e)throw console.error("âŒ Failed to upload thumbnail:",e),new Error(`Failed to upload thumbnail: ${e.message}`);const{data:l}=n.storage.from("puzzle-thumbnails").getPublicUrl(a);return console.log("âœ… Thumbnail uploaded:",l.publicUrl),l.publicUrl}async function c(o,t){const a=`thumbnails/${`${t}.png`}`,{data:i,error:e}=await n.storage.from("movie-thumbnails").upload(a,o,{contentType:"image/png",upsert:!0});if(e)throw console.error("âŒ Failed to upload movie thumbnail:",e),new Error(`Failed to upload movie thumbnail: ${e.message}`);const{data:l}=n.storage.from("movie-thumbnails").getPublicUrl(a);return l.publicUrl}export{s as captureCanvasScreenshot,c as uploadMovieThumbnail,m as uploadThumbnail};
