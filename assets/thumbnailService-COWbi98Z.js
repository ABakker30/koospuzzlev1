import{s as r}from"./index-D8Jmp-NW.js";async function u(e){return new Promise((o,l)=>{e.toBlob(a=>{a?o(a):l(new Error("Failed to capture canvas screenshot"))},"image/png",.9)})}async function c(e,o){const a=`thumbnails/${`${o}.png`}`;console.log("📸 Uploading thumbnail:",a);const{data:i,error:t}=await r.storage.from("puzzle-thumbnails").upload(a,e,{contentType:"image/png",upsert:!0});if(t)throw console.error("❌ Failed to upload thumbnail:",t),new Error(`Failed to upload thumbnail: ${t.message}`);const{data:n}=r.storage.from("puzzle-thumbnails").getPublicUrl(a);return console.log("✅ Thumbnail uploaded:",n.publicUrl),n.publicUrl}export{u as captureCanvasScreenshot,c as uploadThumbnail};
